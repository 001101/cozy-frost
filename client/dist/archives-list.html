<template>
	<require from="./date-format"></require>
	
	<div repeat.for="archive of archives" class="archive-item ${archive.processed ? '' : 'processing'}">
		<h4>
			<a route-href="route: archive; params.bind: {id: archive._id}" show.bind="archive.processed">
				${archive.title}
			</a>
			<span show.bind="!archive.processed">
				${archive.title}
			</span>
		</h4>
		<h3 show.bind="archive.processed">
			${archive.url}
		</h3>
		<p>
			${archive.description}
		</p>
		
		<div class="archive-meta">
			<button click.trigger="removeArchive(archive)" class="btn btn-delete">
				<span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
				delete
			</button>
			
			<span class="archived" show.bind="archive.processed">
				Archived ${archive.archived | dateFormat}
			</span>
		</div>
	</div>
</template>
