"bundle";!function(){var a=System.get("@@amd-helpers").createDefine();define("add-archive-form.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <form submit.delegate="submit()" class="add-form"> <div class="form-wrapper"> <label for="url" class="sr-only"> URL: </label> <input type="url" value.bind="url" id="url" class="field" placeholder="http://example.com"> <input type="submit" value="save" class="btn"> </div> </form> </template>'}),a()}(),System.register("add-archive-form.js",["aurelia-framework","ArchivesDB"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.ArchivesDB}],execute:function(){e=function(){function a(a){b(this,e),this.url="",this.ArchivesDB=a}f(a,[{key:"submit",value:function(){this.ArchivesDB.add(this.url),this.url=""}}]);var e=a;return a=c(d)(a)||a}(),a("AddArchiveForm",e)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("app.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <div class="page-host"> <router-view></router-view> </div> </template>'}),a()}(),System.register("app.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[],execute:function(){c=function(){function a(){b(this,a)}return d(a,[{key:"configureRouter",value:function(a,b){a.title="Cozy Archives",a.map([{route:[""],name:"index",moduleId:"index",nav:!0,title:"Cozy Archives"},{route:["/archive/:id"],name:"archive",moduleId:"archive",nav:!0,title:"Cozy Archives",href:"a"}]),this.router=b}}]),a}(),a("App",c)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("archive.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <iframe src="${src}"></iframe> </template>'}),a()}(),System.register("archive.js",["aurelia-framework","ArchivesDB"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.ArchivesDB}],execute:function(){e=function(){function a(a){b(this,e),this.src="",this.ArchivesDB=a}f(a,[{key:"activate",value:function(a){var b=this;this.ArchivesDB.get(a.id).then(function(a){b.src=a.url})}}]);var e=a;return a=c(d)(a)||a}(),a("Archive",e)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("archives-list.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="./date-format"></require> <div repeat.for="archive of archives" class="archive-item ${archive.processed ? \'\' : \'processing\'}"> <h4> <a route-href="route: archive; params.bind: {id: archive._id}" show.bind="archive.processed"> ${archive.title} </a> <span show.bind="!archive.processed"> ${archive.title} </span> </h4> <h3 show.bind="archive.processed"> ${archive.url} </h3> <p> ${archive.description} </p> <div class="archive-meta"> <button click.trigger="removeArchive(archive)" class="btn btn-delete"> <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> delete </button> <span class="archived" show.bind="archive.processed"> Archived ${archive.archived | dateFormat} </span> </div> </div> </template>'}),a()}(),System.register("ArchivesDB.js",["aurelia-framework","aurelia-fetch-client"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.HttpClient}],execute:function(){e=function(){function a(a){var c=this;b(this,e),this.archives=[],a.configure(function(a){a.useStandardConfiguration()}),this.http=a,this.http.fetch("archives").then(function(a){return a.json()}).then(function(a){a.forEach(function(a){c.archives.push(a)})})}f(a,[{key:"getArchives",value:function(){return this.archives}},{key:"add",value:function(a){var b=this,c=new Headers;return c.append("Content-Type","application/json"),this.http.fetch("archive",{method:"post",headers:c,body:JSON.stringify({url:a})}).then(function(a){return a.json()}).then(function(a){b.archives.push(a)})}},{key:"remove",value:function(a){var b=this;this.http.fetch("archive/"+a._id,{method:"DELETE"}).then(function(c){b.archives.splice(b.archives.indexOf(a),1)})}},{key:"get",value:function(a){return this.http.fetch("archive/"+a,{method:"GET"}).then(function(a){return a.json()})}}]);var e=a;return a=c(d)(a)||a}(),a("ArchivesDB",e)}}}),System.register("archives-list.js",["aurelia-framework","ArchivesDB"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.ArchivesDB}],execute:function(){e=function(){function a(a){b(this,e),this.archives=[],this.ArchivesDB=a}f(a,[{key:"created",value:function(){this.archives=this.ArchivesDB.getArchives()}},{key:"removeArchive",value:function(a){this.ArchivesDB.remove(a)}}]);var e=a;return a=c(d)(a)||a}(),a("ArchivesList",e)}}}),System.register("date-format.js",["moment"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a["default"]}],execute:function(){d=function(){function a(){b(this,a)}return e(a,[{key:"toView",value:function(a){return c(a).fromNow()}}]),a}(),a("DateFormatValueConverter",d)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("index.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="add-archive-form"></require> <require from="archives-list"></require> <div class="header"> <add-archive-form></add-archive-form> </div> <div class="main-container"> <archives-list></archives-list> </div> </template>'}),a()}(),System.register("index.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c;return{setters:[],execute:function(){c=function d(){b(this,d)},a("Index",c)}}}),System.register("main.js",[],function(a){"use strict";function b(a){a.use.standardConfiguration().developmentLogging(),a.start().then(function(){return a.setRoot()})}return a("configure",b),{setters:[],execute:function(){}}});