"bundle";!function(){var a=System.get("@@amd-helpers").createDefine();define("add-snapshot-form.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <form submit.delegate="submit()" class="add-form"> <div class="form-wrapper"> <label for="url" class="sr-only"> URL: </label> <input type="url" value.bind="url" id="url" class="field" placeholder="http://example.com"> <input type="submit" value="save" class="btn"> <div class="bookmarklet"> Or use the <a href="javascript:(function(){var%20script=document.createElement(\'script\');script.src=\'${href}bm.js?\'+Math.floor((+new%20Date)/(864e5));document.body.appendChild(script);})()">Save in Frost</a> bookmarklet. </div> </div> </form> </template>'}),a()}(),System.register("add-snapshot-form.js",["aurelia-framework","SnapshotsDB"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.SnapshotsDB}],execute:function(){e=function(){function a(a){b(this,e),this.url="",this.href="",this.SnapshotsDB=a,this.href=window.location.href}f(a,[{key:"submit",value:function(){this.SnapshotsDB.add(this.url),this.url=""}}]);var e=a;return a=c(d)(a)||a}(),a("AddSnapshotForm",e)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("app.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <div class="page-host"> <router-view></router-view> </div> </template>'}),a()}(),System.register("app.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[],execute:function(){c=function(){function a(){b(this,a)}return d(a,[{key:"configureRouter",value:function(a,b){a.title="Frost",a.map([{route:[""],name:"index",moduleId:"index",nav:!0,title:"Frost"},{route:["/snapshot/:id"],name:"snapshot",moduleId:"snapshot",nav:!0,title:"Frost",href:"a"}]),this.router=b}}]),a}(),a("App",c)}}}),System.register("date-format.js",["moment"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a["default"]}],execute:function(){d=function(){function a(){b(this,a)}return e(a,[{key:"toView",value:function(a){return c(a).fromNow()}}]),a}(),a("DateFormatValueConverter",d)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("index.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="add-snapshot-form"></require> <require from="snapshots-list"></require> <div class="header"> <add-snapshot-form></add-snapshot-form> </div> <div class="main-container"> <snapshots-list></snapshots-list> </div> </template>'}),a()}(),System.register("index.js",[],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c;return{setters:[],execute:function(){c=function d(){b(this,d)},a("Index",c)}}}),System.register("main.js",[],function(a){"use strict";function b(a){a.use.standardConfiguration().developmentLogging(),a.start().then(function(){return a.setRoot()})}return a("configure",b),{setters:[],execute:function(){}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("snapshot.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <a route-href="route: index;" class="btn back"> â—€ back to Frost </a> <iframe src="${src}"></iframe> </template>'}),a()}(),System.register("snapshot.js",["aurelia-framework","SnapshotsDB"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.SnapshotsDB}],execute:function(){e=function(){function a(a){b(this,e),this.src="",this.SnapshotsDB=a}f(a,[{key:"activate",value:function(a){var b=this;this.SnapshotsDB.get(a.id).then(function(a){b.src=a.url})}}]);var e=a;return a=c(d)(a)||a}(),a("Snapshot",e)}}}),function(){var a=System.get("@@amd-helpers").createDefine();define("snapshots-list.html!github:systemjs/plugin-text@0.0.3.js",[],function(){return'<template> <require from="./date-format"></require> <div repeat.for="snapshot of snapshots" class="archive-item ${snapshot.processed ? \'\' : \'processing\'}"> <h4> <a route-href="route: snapshot; params.bind: {id: snapshot._id}" show.bind="snapshot.processed"> ${snapshot.title} </a> <span show.bind="!snapshot.processed"> ${snapshot.title} </span> </h4> <h3 show.bind="snapshot.processed"> ${snapshot.url} </h3> <p> ${snapshot.description} </p> <div class="archive-meta" show.bind="snapshot.processed"> <button click.trigger="removeSnapshot(snapshot)" class="btn btn-delete"> <span class="glyphicon glyphicon-trash" aria-hidden="true"></span> delete </button> <span class="archived"> Archived ${snapshot.archived | dateFormat} </span> </div> </div> <div class="empty-screen" show.bind="snapshots.length == 0"> <img src="assets/flake.png" alt="The snowflake icon for Frost"> <h1> Save a copy of your favorite pages, forever. </h1> <p> You can use the form above or add this <a href="javascript:(function(){var%20script=document.createElement(\'script\');script.src=\'${href}bm.js?\'+Math.floor((+new%20Date)/(864e5));document.body.appendChild(script);})()">Save in Frost</a> bookmarklet to your browser\'s bookmarks. Activating it will save the page you\'re looking at without having to open up Frost! </p> </div> </template>'}),a()}(),System.register("SnapshotsDB.js",["aurelia-framework","aurelia-fetch-client"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.HttpClient}],execute:function(){e=function(){function a(a){var c=this;b(this,e),this.snapshots=[],a.configure(function(a){a.useStandardConfiguration()}),this.http=a,this.http.fetch("snapshots").then(function(a){return a.json()}).then(function(a){a.forEach(function(a){c.snapshots.push(a)})})}f(a,[{key:"getAll",value:function(){return this.snapshots}},{key:"add",value:function(a){var b=this,c=new Headers;return c.append("Content-Type","application/json"),this.http.fetch("snapshot",{method:"post",headers:c,body:JSON.stringify({url:a})}).then(function(a){return a.json()}).then(function(a){b.snapshots.push(a)})}},{key:"remove",value:function(a){var b=this;this.http.fetch("snapshot/"+a._id,{method:"DELETE"}).then(function(c){b.snapshots.splice(b.snapshots.indexOf(a),1)})}},{key:"get",value:function(a){return this.http.fetch("snapshot/"+a,{method:"GET"}).then(function(a){return a.json()})}}]);var e=a;return a=c(d)(a)||a}(),a("SnapshotsDB",e)}}}),System.register("snapshots-list.js",["aurelia-framework","SnapshotsDB"],function(a){"use strict";function b(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var c,d,e,f=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();return{setters:[function(a){c=a.inject},function(a){d=a.SnapshotsDB}],execute:function(){e=function(){function a(a){b(this,e),this.snapshots=[],this.href="",this.SnapshotsDB=a,this.href=window.location.href}f(a,[{key:"created",value:function(){this.snapshots=this.SnapshotsDB.getAll()}},{key:"removeSnapshot",value:function(a){this.SnapshotsDB.remove(a)}}]);var e=a;return a=c(d)(a)||a}(),a("SnapshotsList",e)}}});